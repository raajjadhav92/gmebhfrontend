{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raajj\\\\Desktop\\\\backend\\\\frontend\\\\src\\\\pages\\\\admin\\\\ManageBooks.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport simpleApi from '../../utils/simpleApi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ManageBooks = () => {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [issuedBooks, setIssuedBooks] = useState([]);\n  const [overdueBooks, setOverdueBooks] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [activeTab, setActiveTab] = useState('books');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [showIssueForm, setShowIssueForm] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [loading, setLoading] = useState(false);\n\n  // Form states\n  const [bookForm, setBookForm] = useState({\n    title: '',\n    author: '',\n    bookId: '',\n    price: 0,\n    totalCopies: 1\n  });\n  const [issueForm, setIssueForm] = useState({\n    bookId: '',\n    studentEmail: '',\n    issueDate: ''\n  });\n  const fetchBooks = async () => {\n    try {\n      setLoading(true);\n      const response = await simpleApi.get('/api/books');\n      if (response.data.success) {\n        setBooks(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      toast.error('Failed to load books');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const fetchOverdueBooks = async () => {\n    try {\n      const response = await simpleApi.get('/api/books/overdue');\n      if (response.data.success) {\n        setOverdueBooks(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching overdue books:', error);\n      toast.error('Failed to load overdue books');\n    }\n  };\n  const fetchIssuedBooks = async () => {\n    try {\n      const response = await simpleApi.get('/api/books/issued');\n      if (response.data.success) {\n        setIssuedBooks(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching issued books:', error);\n      toast.error('Failed to load issued books');\n    }\n  };\n  const fetchStudents = async () => {\n    try {\n      const response = await simpleApi.get('/api/users?role=student');\n      if (response.data.success) {\n        setStudents(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching students:', error);\n      toast.error('Failed to load students');\n    }\n  };\n  useEffect(() => {\n    fetchBooks();\n    fetchIssuedBooks();\n    fetchOverdueBooks();\n    fetchStudents();\n    const refreshInterval = setInterval(() => {\n      fetchBooks();\n      fetchIssuedBooks();\n      fetchOverdueBooks();\n    }, 1200000);\n    return () => clearInterval(refreshInterval);\n  }, []);\n  const handleRefresh = () => {\n    fetchBooks();\n    fetchIssuedBooks();\n    fetchOverdueBooks();\n    fetchStudents();\n  };\n  const formatDate = dateString => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) {\n      return 'Invalid Date';\n    }\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  const categories = [{\n    value: 'all',\n    label: 'All Categories'\n  }, {\n    value: 'fiction',\n    label: 'Fiction'\n  }, {\n    value: 'non-fiction',\n    label: 'Non-Fiction'\n  }, {\n    value: 'science',\n    label: 'Science'\n  }, {\n    value: 'technology',\n    label: 'Technology'\n  }, {\n    value: 'engineering',\n    label: 'Engineering'\n  }, {\n    value: 'mathematics',\n    label: 'Mathematics'\n  }, {\n    value: 'computer-science',\n    label: 'Computer Science'\n  }, {\n    value: 'history',\n    label: 'History'\n  }, {\n    value: 'philosophy',\n    label: 'Philosophy'\n  }, {\n    value: 'literature',\n    label: 'Literature'\n  }, {\n    value: 'reference',\n    label: 'Reference'\n  }, {\n    value: 'other',\n    label: 'Other'\n  }];\n  const availabilityStatuses = [{\n    value: 'all',\n    label: 'All Books'\n  }, {\n    value: 'available',\n    label: 'Available'\n  }, {\n    value: 'unavailable',\n    label: 'Unavailable'\n  }];\n  const filteredBooks = books.filter(book => {\n    const matchesSearch = book.title.toLowerCase().includes(searchTerm.toLowerCase()) || book.author.toLowerCase().includes(searchTerm.toLowerCase()) || book.bookId && book.bookId.includes(searchTerm);\n    const matchesCategory = categoryFilter === 'all' || book.category === categoryFilter;\n    const matchesStatus = statusFilter === 'all' || statusFilter === 'available' && book.availableCopies > 0 || statusFilter === 'unavailable' && book.availableCopies === 0;\n    return matchesSearch && matchesCategory && matchesStatus;\n  });\n  const handleAddBook = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await simpleApi.post('/api/books', bookForm);\n      if (response.data.success) {\n        await fetchBooks();\n        setBookForm({\n          title: '',\n          author: '',\n          bookId: '',\n          price: 0,\n          category: '',\n          totalCopies: 1\n        });\n        setShowAddForm(false);\n        toast.success('Book added successfully!');\n      } else {\n        toast.error(response.data.message || 'Failed to add book');\n      }\n    } catch (error) {\n      console.error('Error adding book:', error);\n      toast.error('Failed to add book');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleEditBook = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await simpleApi.put(`/api/books/${editingBook._id}`, bookForm);\n      if (response.data.success) {\n        await fetchBooks();\n        setEditingBook(null);\n        setBookForm({\n          title: '',\n          author: '',\n          bookId: '',\n          price: 0,\n          category: '',\n          totalCopies: 1\n        });\n        setShowAddForm(false);\n        toast.success('Book updated successfully!');\n      } else {\n        toast.error(response.data.message || 'Failed to update book');\n      }\n    } catch (error) {\n      console.error('Error updating book:', error);\n      toast.error('Failed to update book');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDeleteBook = async bookId => {\n    if (window.confirm('Are you sure you want to delete this book?')) {\n      setLoading(true);\n      try {\n        const response = await simpleApi.delete(`/api/books/${bookId}`);\n        if (response.data.success) {\n          await fetchBooks();\n          toast.success('Book deleted successfully!');\n        } else {\n          toast.error(response.data.message || 'Failed to delete book');\n        }\n      } catch (error) {\n        console.error('Error deleting book:', error);\n        toast.error('Failed to delete book');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const startEditBook = book => {\n    setEditingBook(book);\n    setBookForm({\n      title: book.title,\n      author: book.author,\n      bookId: book.bookId,\n      price: book.price || 0,\n      category: book.category,\n      totalCopies: book.totalCopies\n    });\n    setShowAddForm(true);\n  };\n  const handleIssueBook = async e => {\n    e.preventDefault();\n    if (!issueForm.bookId || !issueForm.studentEmail || !issueForm.issueDate) {\n      toast.error('Please fill in all fields');\n      return;\n    }\n    setLoading(true);\n    try {\n      const book = books.find(b => b.bookId === issueForm.bookId);\n      if (!book) {\n        toast.error('Book not found with the provided Book ID');\n        setLoading(false);\n        return;\n      }\n      const studentResponse = await simpleApi.get(`/api/users?role=student&email=${issueForm.studentEmail}`);\n      if (!studentResponse.data.success || studentResponse.data.data.length === 0) {\n        toast.error('Student with this ID not found.');\n        setLoading(false);\n        return;\n      }\n      const student = studentResponse.data.data[0];\n      const response = await simpleApi.post(`/api/books/${book._id}/issue/${student._id}`, {\n        issueDate: issueForm.issueDate\n      });\n      if (response.data.success) {\n        toast.success(`Book \"${book.title}\" issued to ${student.name} successfully!`);\n        await fetchBooks();\n        await fetchIssuedBooks();\n        await fetchOverdueBooks();\n        setIssueForm({\n          bookId: '',\n          studentEmail: '',\n          issueDate: ''\n        });\n        setShowIssueForm(false);\n      } else {\n        toast.error(response.data.message || 'Failed to issue book');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error issuing book:', error);\n      const errorMessage = ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to issue book';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleRecoverBook = async transactionId => {\n    if (window.confirm('Are you sure you want to mark this book as recovered? This is for books that were lost and found.')) {\n      setLoading(true);\n      try {\n        const response = await simpleApi.put(`/api/books/recover/${transactionId}`);\n        if (response.data.success) {\n          toast.success('Book marked as recovered successfully!');\n          fetchIssuedBooks();\n          fetchOverdueBooks();\n          fetchBooks();\n        } else {\n          toast.error(response.data.message || 'Failed to recover book');\n        }\n      } catch (error) {\n        toast.error(error.message || 'An error occurred while recovering the book');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  const handleSendReminder = async transactionId => {\n    setLoading(true);\n    try {\n      const response = await simpleApi.post(`/api/books/remind/${transactionId}`);\n      if (response.data.success) {\n        toast.success(response.data.message);\n        fetchOverdueBooks(); // Refresh the list to show updated reminder status\n      } else {\n        toast.error(response.data.message || 'Failed to send reminder');\n      }\n    } catch (error) {\n      var _error$response2, _error$response2$data;\n      toast.error(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'An error occurred while sending the reminder');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleMarkAsLost = async transactionId => {\n    try {\n      setLoading(true);\n      await simpleApi.put(`/api/books/mark-lost/${transactionId}`);\n      toast.success('Book marked as lost.');\n      fetchIssuedBooks();\n      fetchOverdueBooks();\n    } catch (error) {\n      var _error$response3, _error$response3$data;\n      console.error('Error marking book as lost:', error);\n      toast.error(((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : (_error$response3$data = _error$response3.data) === null || _error$response3$data === void 0 ? void 0 : _error$response3$data.message) || 'Failed to mark book as lost.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleReturnBook = async transactionId => {\n    if (window.confirm('Are you sure you want to mark this book as returned?')) {\n      setLoading(true);\n      try {\n        const response = await simpleApi.put(`/api/books/return/${transactionId}`);\n        if (response.data.success) {\n          toast.success('Book marked as returned successfully!');\n          fetchIssuedBooks();\n          fetchOverdueBooks();\n          fetchBooks();\n        } else {\n          toast.error(response.data.message || 'Failed to return book');\n        }\n      } catch (error) {\n        toast.error(error.message || 'An error occurred while returning the book');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 bg-gray-50 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Library Management\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setEditingBook(null);\n            setBookForm({\n              title: '',\n              author: '',\n              bookId: '',\n              price: 0,\n              category: '',\n              totalCopies: 1\n            });\n            setShowAddForm(true);\n          },\n          className: \"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition-colors\",\n          children: \"Add Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowIssueForm(true),\n          className: \"bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 transition-colors\",\n          children: \"Issue Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleRefresh,\n          className: \"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors\",\n          children: \"Refresh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-b border-gray-200 mb-6\",\n      children: /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"-mb-px flex space-x-8\",\n        children: [{\n          id: 'books',\n          label: 'All Books',\n          count: filteredBooks.length\n        }, {\n          id: 'issued',\n          label: 'Issued Books',\n          count: issuedBooks.length\n        }, {\n          id: 'overdue',\n          label: 'Overdue Books',\n          count: overdueBooks.length\n        }].map(tab => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setActiveTab(tab.id),\n          className: `py-2 px-1 border-b-2 font-medium text-sm transition-colors ${activeTab === tab.id ? 'border-blue-500 text-blue-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n          children: [tab.label, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"bg-gray-200 text-gray-700 text-xs font-semibold ml-2 px-2 py-0.5 rounded-full\",\n            children: tab.count\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 27\n          }, this)]\n        }, tab.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }, this), activeTab === 'books' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Search by title, author, or Book ID...\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: categoryFilter,\n          onChange: e => setCategoryFilter(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n          children: categories.map(category => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: category.value,\n            children: category.label\n          }, category.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: statusFilter,\n          onChange: e => setStatusFilter(e.target.value),\n          className: \"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n          children: availabilityStatuses.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: status.value,\n            children: status.label\n          }, status.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Book Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 425,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Availability\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                scope: \"col\",\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: [book.title, \" (\", book.bookId, \")\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"by \", book.author]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Price: \\u20B9\", book.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${book.availableCopies > 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`,\n                  children: book.availableCopies > 0 ? `${book.availableCopies} Available` : 'Unavailable'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Total: \", book.totalCopies]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => startEditBook(book),\n                  className: \"text-indigo-600 hover:text-indigo-900 mr-4\",\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteBook(book._id),\n                  className: \"text-red-600 hover:text-red-900 ml-4\",\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this)]\n            }, book._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 9\n    }, this), activeTab === 'issued' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Book Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 464,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 465,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Dates\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 462,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: issuedBooks.filter(t => t.book && t.student).map(transaction => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: transaction.book.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: transaction.book.bookId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: transaction.student.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: transaction.student.studentId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 479,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-900\",\n                  children: [\"Issued: \", formatDate(transaction.issueDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Due: \", formatDate(transaction.dueDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 481,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleReturnBook(transaction._id),\n                  className: \"text-green-600 hover:text-green-900\",\n                  children: \"Return\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 21\n              }, this)]\n            }, transaction._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 459,\n      columnNumber: 9\n    }, this), activeTab === 'overdue' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"overflow-x-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"min-w-full divide-y divide-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            className: \"bg-gray-100\",\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Book Title\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Dates\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Status\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 505,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                className: \"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\",\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 506,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            className: \"bg-white divide-y divide-gray-200\",\n            children: overdueBooks.filter(t => t.book && t.student).map(transaction => /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"hover:bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: transaction.book.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: transaction.book.bookId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 514,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm font-medium text-gray-900\",\n                  children: transaction.student.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 517,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-500\",\n                  children: transaction.student.studentId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-gray-900\",\n                  children: [\"Issued: \", formatDate(transaction.issueDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm text-red-600\",\n                  children: [\"Due: \", formatDate(transaction.dueDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\",\n                  children: \"Overdue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 24\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-semibold\",\n                children: [\"\\u20B9\", transaction.fine]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 529,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"px-6 py-4 whitespace-nowrap text-sm font-medium\",\n                children: transaction.status === 'lost' ? /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRecoverBook(transaction._id),\n                  className: \"text-yellow-600 hover:text-yellow-900\",\n                  children: \"Recover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 532,\n                  columnNumber: 25\n                }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleReturnBook(transaction._id),\n                    className: \"text-green-600 hover:text-green-900 mr-2\",\n                    children: \"Return\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 535,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleSendReminder(transaction._id),\n                    className: \"text-blue-600 hover:text-blue-900\",\n                    children: \"Send Reminder\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 536,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 530,\n                columnNumber: 21\n              }, this)]\n            }, transaction._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 498,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 10\n    }, this), showAddForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-6\",\n          children: editingBook ? 'Edit Book' : 'Add New Book'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 552,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: editingBook ? handleEditBook : handleAddBook,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Title\",\n              value: bookForm.title,\n              onChange: e => setBookForm({\n                ...bookForm,\n                title: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 555,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Author\",\n              value: bookForm.author,\n              onChange: e => setBookForm({\n                ...bookForm,\n                author: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 556,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Book ID\",\n              value: bookForm.bookId,\n              onChange: e => setBookForm({\n                ...bookForm,\n                bookId: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"Price\",\n              value: bookForm.price,\n              onChange: e => setBookForm({\n                ...bookForm,\n                price: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"Total Copies\",\n              value: bookForm.totalCopies,\n              onChange: e => setBookForm({\n                ...bookForm,\n                totalCopies: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true,\n              min: \"1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowAddForm(false),\n              className: \"mr-4 px-4 py-2 rounded\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"bg-blue-600 text-white px-4 py-2 rounded\",\n              children: editingBook ? 'Update' : 'Add'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 563,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 550,\n      columnNumber: 9\n    }, this), showIssueForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold mb-6\",\n          children: \"Issue Book\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleIssueBook,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"Book ID\",\n              value: issueForm.bookId,\n              onChange: e => setIssueForm({\n                ...issueForm,\n                bookId: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              placeholder: \"Student Email\",\n              value: issueForm.studentEmail,\n              onChange: e => setIssueForm({\n                ...issueForm,\n                studentEmail: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: issueForm.issueDate,\n              onChange: e => setIssueForm({\n                ...issueForm,\n                issueDate: e.target.value\n              }),\n              className: \"w-full px-3 py-2 border rounded\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 579,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 576,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-end mt-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setShowIssueForm(false),\n              className: \"mr-4 px-4 py-2 rounded\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"bg-green-600 text-white px-4 py-2 rounded\",\n              children: \"Issue\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 583,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 581,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 572,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 348,\n    columnNumber: 5\n  }, this);\n};\n_s(ManageBooks, \"jciJCtBpeByzQb8Z4rdmAmXn9sI=\");\n_c = ManageBooks;\nexport default ManageBooks;\nvar _c;\n$RefreshReg$(_c, \"ManageBooks\");","map":{"version":3,"names":["React","useState","useEffect","toast","simpleApi","jsxDEV","_jsxDEV","Fragment","_Fragment","ManageBooks","_s","books","setBooks","issuedBooks","setIssuedBooks","overdueBooks","setOverdueBooks","students","setStudents","activeTab","setActiveTab","showAddForm","setShowAddForm","showIssueForm","setShowIssueForm","editingBook","setEditingBook","searchTerm","setSearchTerm","categoryFilter","setCategoryFilter","statusFilter","setStatusFilter","loading","setLoading","bookForm","setBookForm","title","author","bookId","price","totalCopies","issueForm","setIssueForm","studentEmail","issueDate","fetchBooks","response","get","data","success","error","console","fetchOverdueBooks","fetchIssuedBooks","fetchStudents","refreshInterval","setInterval","clearInterval","handleRefresh","formatDate","dateString","date","Date","isNaN","getTime","toLocaleDateString","year","month","day","categories","value","label","availabilityStatuses","filteredBooks","filter","book","matchesSearch","toLowerCase","includes","matchesCategory","category","matchesStatus","availableCopies","handleAddBook","e","preventDefault","post","message","handleEditBook","put","_id","handleDeleteBook","window","confirm","delete","startEditBook","handleIssueBook","find","b","studentResponse","length","student","name","_error$response","_error$response$data","errorMessage","handleRecoverBook","transactionId","handleSendReminder","_error$response2","_error$response2$data","handleMarkAsLost","_error$response3","_error$response3$data","handleReturnBook","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","id","count","map","tab","type","placeholder","onChange","target","status","scope","t","transaction","studentId","dueDate","fine","onSubmit","required","min","_c","$RefreshReg$"],"sources":["C:/Users/raajj/Desktop/backend/frontend/src/pages/admin/ManageBooks.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport simpleApi from '../../utils/simpleApi';\n\nconst ManageBooks = () => {\n  const [books, setBooks] = useState([]);\n  const [issuedBooks, setIssuedBooks] = useState([]);\n  const [overdueBooks, setOverdueBooks] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [activeTab, setActiveTab] = useState('books');\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [showIssueForm, setShowIssueForm] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [categoryFilter, setCategoryFilter] = useState('all');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [loading, setLoading] = useState(false);\n\n  // Form states\n  const [bookForm, setBookForm] = useState({\n    title: '',\n    author: '',\n    bookId: '',\n    price: 0,\n    totalCopies: 1\n  });\n\n  const [issueForm, setIssueForm] = useState({\n    bookId: '',\n    studentEmail: '',\n    issueDate: ''\n  });\n\n  const fetchBooks = async () => {\n    try {\n      setLoading(true);\n      const response = await simpleApi.get('/api/books');\n      if (response.data.success) {\n        setBooks(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching books:', error);\n      toast.error('Failed to load books');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchOverdueBooks = async () => {\n    try {\n      const response = await simpleApi.get('/api/books/overdue');\n      if (response.data.success) {\n        setOverdueBooks(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching overdue books:', error);\n      toast.error('Failed to load overdue books');\n    }\n  };\n\n  const fetchIssuedBooks = async () => {\n    try {\n      const response = await simpleApi.get('/api/books/issued');\n      if (response.data.success) {\n        setIssuedBooks(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching issued books:', error);\n      toast.error('Failed to load issued books');\n    }\n  };\n\n  const fetchStudents = async () => {\n    try {\n      const response = await simpleApi.get('/api/users?role=student');\n      if (response.data.success) {\n        setStudents(response.data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching students:', error);\n      toast.error('Failed to load students');\n    }\n  };\n\n  useEffect(() => {\n    fetchBooks();\n    fetchIssuedBooks();\n    fetchOverdueBooks();\n    fetchStudents();\n    \n    const refreshInterval = setInterval(() => {\n      fetchBooks();\n      fetchIssuedBooks();\n      fetchOverdueBooks();\n    }, 1200000);\n    \n    return () => clearInterval(refreshInterval);\n  }, []);\n  \n  const handleRefresh = () => {\n    fetchBooks();\n    fetchIssuedBooks();\n    fetchOverdueBooks();\n    fetchStudents();\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    const date = new Date(dateString);\n    if (isNaN(date.getTime())) {\n      return 'Invalid Date';\n    }\n    return date.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' });\n  };\n\n  const categories = [\n    { value: 'all', label: 'All Categories' },\n    { value: 'fiction', label: 'Fiction' },\n    { value: 'non-fiction', label: 'Non-Fiction' },\n    { value: 'science', label: 'Science' },\n    { value: 'technology', label: 'Technology' },\n    { value: 'engineering', label: 'Engineering' },\n    { value: 'mathematics', label: 'Mathematics' },\n    { value: 'computer-science', label: 'Computer Science' },\n    { value: 'history', label: 'History' },\n    { value: 'philosophy', label: 'Philosophy' },\n    { value: 'literature', label: 'Literature' },\n    { value: 'reference', label: 'Reference' },\n    { value: 'other', label: 'Other' }\n  ];\n\n  const availabilityStatuses = [\n    { value: 'all', label: 'All Books' },\n    { value: 'available', label: 'Available' },\n    { value: 'unavailable', label: 'Unavailable' }\n  ];\n\n  const filteredBooks = books.filter(book => {\n    const matchesSearch = book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         book.author.toLowerCase().includes(searchTerm.toLowerCase()) ||\n                         (book.bookId && book.bookId.includes(searchTerm));\n    const matchesCategory = categoryFilter === 'all' || book.category === categoryFilter;\n    const matchesStatus = statusFilter === 'all' ||\n                         (statusFilter === 'available' && book.availableCopies > 0) ||\n                         (statusFilter === 'unavailable' && book.availableCopies === 0);\n    return matchesSearch && matchesCategory && matchesStatus;\n  });\n\n  const handleAddBook = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await simpleApi.post('/api/books', bookForm);\n      if (response.data.success) {\n        await fetchBooks();\n        setBookForm({ title: '', author: '', bookId: '', price: 0, category: '', totalCopies: 1 });\n        setShowAddForm(false);\n        toast.success('Book added successfully!');\n      } else {\n        toast.error(response.data.message || 'Failed to add book');\n      }\n    } catch (error) {\n      console.error('Error adding book:', error);\n      toast.error('Failed to add book');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEditBook = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const response = await simpleApi.put(`/api/books/${editingBook._id}`, bookForm);\n      if (response.data.success) {\n        await fetchBooks();\n        setEditingBook(null);\n        setBookForm({ title: '', author: '', bookId: '', price: 0, category: '', totalCopies: 1 });\n        setShowAddForm(false);\n        toast.success('Book updated successfully!');\n      } else {\n        toast.error(response.data.message || 'Failed to update book');\n      }\n    } catch (error) {\n      console.error('Error updating book:', error);\n      toast.error('Failed to update book');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteBook = async (bookId) => {\n    if (window.confirm('Are you sure you want to delete this book?')) {\n      setLoading(true);\n      try {\n        const response = await simpleApi.delete(`/api/books/${bookId}`);\n        if (response.data.success) {\n          await fetchBooks();\n          toast.success('Book deleted successfully!');\n        } else {\n          toast.error(response.data.message || 'Failed to delete book');\n        }\n      } catch (error) {\n        console.error('Error deleting book:', error);\n        toast.error('Failed to delete book');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const startEditBook = (book) => {\n    setEditingBook(book);\n    setBookForm({\n      title: book.title,\n      author: book.author,\n      bookId: book.bookId,\n      price: book.price || 0,\n      category: book.category,\n      totalCopies: book.totalCopies\n    });\n    setShowAddForm(true);\n  };\n\n  const handleIssueBook = async (e) => {\n    e.preventDefault();\n\n    if (!issueForm.bookId || !issueForm.studentEmail || !issueForm.issueDate) {\n      toast.error('Please fill in all fields');\n      return;\n    }\n\n    setLoading(true);\n    try {\n      const book = books.find(b => b.bookId === issueForm.bookId);\n      if (!book) {\n        toast.error('Book not found with the provided Book ID');\n        setLoading(false);\n        return;\n      }\n\n      const studentResponse = await simpleApi.get(`/api/users?role=student&email=${issueForm.studentEmail}`);\n      if (!studentResponse.data.success || studentResponse.data.data.length === 0) {\n        toast.error('Student with this ID not found.');\n        setLoading(false);\n        return;\n      }\n      const student = studentResponse.data.data[0];\n\n      const response = await simpleApi.post(`/api/books/${book._id}/issue/${student._id}`, {\n        issueDate: issueForm.issueDate\n      });\n\n      if (response.data.success) {\n        toast.success(`Book \"${book.title}\" issued to ${student.name} successfully!`);\n        await fetchBooks();\n        await fetchIssuedBooks();\n        await fetchOverdueBooks();\n        setIssueForm({ bookId: '', studentEmail: '', issueDate: '' });\n        setShowIssueForm(false);\n      } else {\n        toast.error(response.data.message || 'Failed to issue book');\n      }\n    } catch (error) {\n      console.error('Error issuing book:', error);\n      const errorMessage = error.response?.data?.message || 'Failed to issue book';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleRecoverBook = async (transactionId) => {\n    if (window.confirm('Are you sure you want to mark this book as recovered? This is for books that were lost and found.')) {\n      setLoading(true);\n      try {\n        const response = await simpleApi.put(`/api/books/recover/${transactionId}`);\n        if (response.data.success) {\n          toast.success('Book marked as recovered successfully!');\n          fetchIssuedBooks();\n          fetchOverdueBooks();\n          fetchBooks();\n        } else {\n          toast.error(response.data.message || 'Failed to recover book');\n        }\n      } catch (error) {\n        toast.error(error.message || 'An error occurred while recovering the book');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  const handleSendReminder = async (transactionId) => {\n    setLoading(true);\n    try {\n      const response = await simpleApi.post(`/api/books/remind/${transactionId}`);\n      if (response.data.success) {\n        toast.success(response.data.message);\n        fetchOverdueBooks(); // Refresh the list to show updated reminder status\n      } else {\n        toast.error(response.data.message || 'Failed to send reminder');\n      }\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'An error occurred while sending the reminder');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleMarkAsLost = async (transactionId) => {\n    try {\n      setLoading(true);\n      await simpleApi.put(`/api/books/mark-lost/${transactionId}`);\n      toast.success('Book marked as lost.');\n      fetchIssuedBooks();\n      fetchOverdueBooks();\n    } catch (error) {\n      console.error('Error marking book as lost:', error);\n      toast.error(error.response?.data?.message || 'Failed to mark book as lost.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleReturnBook = async (transactionId) => {\n    if (window.confirm('Are you sure you want to mark this book as returned?')) {\n      setLoading(true);\n      try {\n        const response = await simpleApi.put(`/api/books/return/${transactionId}`);\n        if (response.data.success) {\n          toast.success('Book marked as returned successfully!');\n          fetchIssuedBooks();\n          fetchOverdueBooks();\n          fetchBooks();\n        } else {\n          toast.error(response.data.message || 'Failed to return book');\n        }\n      } catch (error) {\n        toast.error(error.message || 'An error occurred while returning the book');\n      } finally {\n        setLoading(false);\n      }\n    }\n  };\n\n  return (\n    <div className=\"p-6 bg-gray-50 min-h-screen\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800\">Library Management</h1>\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={() => { setEditingBook(null); setBookForm({ title: '', author: '', bookId: '', price: 0, category: '', totalCopies: 1 }); setShowAddForm(true); }}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 transition-colors\"\n          >\n            Add Book\n          </button>\n          <button\n            onClick={() => setShowIssueForm(true)}\n            className=\"bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 transition-colors\"\n          >\n            Issue Book\n          </button>\n          <button onClick={handleRefresh} className=\"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-300 transition-colors\">\n            Refresh\n          </button>\n        </div>\n      </div>\n\n      <div className=\"border-b border-gray-200 mb-6\">\n        <nav className=\"-mb-px flex space-x-8\">\n          {[\n            { id: 'books', label: 'All Books', count: filteredBooks.length },\n            { id: 'issued', label: 'Issued Books', count: issuedBooks.length },\n            { id: 'overdue', label: 'Overdue Books', count: overdueBooks.length }\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              onClick={() => setActiveTab(tab.id)}\n              className={`py-2 px-1 border-b-2 font-medium text-sm transition-colors ${\n                activeTab === tab.id\n                  ? 'border-blue-500 text-blue-600'\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n              }`}\n            >\n              {tab.label} <span className=\"bg-gray-200 text-gray-700 text-xs font-semibold ml-2 px-2 py-0.5 rounded-full\">{tab.count}</span>\n            </button>\n          ))}\n        </nav>\n      </div>\n\n      {activeTab === 'books' && (\n        <div className=\"bg-white p-4 rounded-lg shadow-md\">\n          <div className=\"mb-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Search by title, author, or Book ID...\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n            <select\n              value={categoryFilter}\n              onChange={(e) => setCategoryFilter(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              {categories.map(category => (\n                <option key={category.value} value={category.value}>{category.label}</option>\n              ))}\n            </select>\n            <select\n              value={statusFilter}\n              onChange={(e) => setStatusFilter(e.target.value)}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              {availabilityStatuses.map(status => (\n                <option key={status.value} value={status.value}>{status.label}</option>\n              ))}\n            </select>\n          </div>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-100\">\n                <tr>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Book Details</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Availability</th>\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredBooks.map((book) => (\n                  <tr key={book._id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">{book.title} ({book.bookId})</div>\n                      <div className=\"text-sm text-gray-500\">by {book.author}</div>\n                      <div className=\"text-sm text-gray-500\">Price: {book.price}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                        book.availableCopies > 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\n                      }`}>\n                        {book.availableCopies > 0 ? `${book.availableCopies} Available` : 'Unavailable'}\n                      </span>\n                      <div className=\"text-sm text-gray-500\">Total: {book.totalCopies}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <button onClick={() => startEditBook(book)} className=\"text-indigo-600 hover:text-indigo-900 mr-4\">Edit</button>\n                      <button onClick={() => handleDeleteBook(book._id)} className=\"text-red-600 hover:text-red-900 ml-4\">Delete</button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'issued' && (\n        <div className=\"bg-white p-4 rounded-lg shadow-md\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-100\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Book Title</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Student</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Dates</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {issuedBooks.filter(t => t.book && t.student).map((transaction) => (\n                  <tr key={transaction._id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">{transaction.book.title}</div>\n                      <div className=\"text-sm text-gray-500\">{transaction.book.bookId}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">{transaction.student.name}</div>\n                      <div className=\"text-sm text-gray-500\">{transaction.student.studentId}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">Issued: {formatDate(transaction.issueDate)}</div>\n                      <div className=\"text-sm text-gray-500\">Due: {formatDate(transaction.dueDate)}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <button onClick={() => handleReturnBook(transaction._id)} className=\"text-green-600 hover:text-green-900\">Return</button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {activeTab === 'overdue' && (\n         <div className=\"bg-white p-4 rounded-lg shadow-md\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-100\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Book Title</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Student</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Dates</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Status</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase tracking-wider\">Actions</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {overdueBooks.filter(t => t.book && t.student).map((transaction) => (\n                  <tr key={transaction._id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">{transaction.book.title}</div>\n                      <div className=\"text-sm text-gray-500\">{transaction.book.bookId}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm font-medium text-gray-900\">{transaction.student.name}</div>\n                      <div className=\"text-sm text-gray-500\">{transaction.student.studentId}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">Issued: {formatDate(transaction.issueDate)}</div>\n                      <div className=\"text-sm text-red-600\">Due: {formatDate(transaction.dueDate)}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                       <span className=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800\">\n                         Overdue\n                       </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-semibold\">{transaction.fine}</td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      {transaction.status === 'lost' ? (\n                        <button onClick={() => handleRecoverBook(transaction._id)} className=\"text-yellow-600 hover:text-yellow-900\">Recover</button>\n                      ) : (\n                        <>\n                          <button onClick={() => handleReturnBook(transaction._id)} className=\"text-green-600 hover:text-green-900 mr-2\">Return</button>\n                          <button onClick={() => handleSendReminder(transaction._id)} className=\"text-blue-600 hover:text-blue-900\">Send Reminder</button>\n                        </>\n                      )}\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      )}\n\n      {/* Add/Edit Book Modal */}\n      {showAddForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\">\n            <h2 className=\"text-2xl font-bold mb-6\">{editingBook ? 'Edit Book' : 'Add New Book'}</h2>\n            <form onSubmit={editingBook ? handleEditBook : handleAddBook}>\n              <div className=\"grid grid-cols-1 gap-4\">\n                <input type=\"text\" placeholder=\"Title\" value={bookForm.title} onChange={(e) => setBookForm({...bookForm, title: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n                <input type=\"text\" placeholder=\"Author\" value={bookForm.author} onChange={(e) => setBookForm({...bookForm, author: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n                <input type=\"text\" placeholder=\"Book ID\" value={bookForm.bookId} onChange={(e) => setBookForm({...bookForm, bookId: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n                <input type=\"number\" placeholder=\"Price\" value={bookForm.price} onChange={(e) => setBookForm({...bookForm, price: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n                <input type=\"number\" placeholder=\"Total Copies\" value={bookForm.totalCopies} onChange={(e) => setBookForm({...bookForm, totalCopies: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required min=\"1\" />\n              </div>\n              <div className=\"flex justify-end mt-6\">\n                <button type=\"button\" onClick={() => setShowAddForm(false)} className=\"mr-4 px-4 py-2 rounded\">Cancel</button>\n                <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded\">{editingBook ? 'Update' : 'Add'}</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {/* Issue Book Modal */}\n      {showIssueForm && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white p-8 rounded-lg shadow-2xl w-full max-w-md\">\n            <h2 className=\"text-2xl font-bold mb-6\">Issue Book</h2>\n            <form onSubmit={handleIssueBook}>\n              <div className=\"grid grid-cols-1 gap-4\">\n                <input type=\"text\" placeholder=\"Book ID\" value={issueForm.bookId} onChange={(e) => setIssueForm({...issueForm, bookId: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n                <input type=\"email\" placeholder=\"Student Email\" value={issueForm.studentEmail} onChange={(e) => setIssueForm({...issueForm, studentEmail: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n                <input type=\"date\" value={issueForm.issueDate} onChange={(e) => setIssueForm({...issueForm, issueDate: e.target.value})} className=\"w-full px-3 py-2 border rounded\" required />\n              </div>\n              <div className=\"flex justify-end mt-6\">\n                <button type=\"button\" onClick={() => setShowIssueForm(false)} className=\"mr-4 px-4 py-2 rounded\">Cancel</button>\n                <button type=\"submit\" className=\"bg-green-600 text-white px-4 py-2 rounded\">Issue</button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      {loading && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50\">\n          <div className=\"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500\"></div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ManageBooks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}