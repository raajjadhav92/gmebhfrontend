{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\raajj\\\\Desktop\\\\backend\\\\frontend\\\\src\\\\pages\\\\student\\\\StandaloneLibrary.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport simpleApi from '../../utils/simpleApi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StandaloneLibrary = () => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [activeTab, setActiveTab] = useState('catalog');\n  const [books, setBooks] = useState([]);\n  const [currentBooks, setCurrentBooks] = useState([]);\n  const [historyBooks, setHistoryBooks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filterAvailability, setFilterAvailability] = useState('all');\n  const [selectedBook, setSelectedBook] = useState(null);\n  const [showBookDetails, setShowBookDetails] = useState(false);\n  const [myBooksTab, setMyBooksTab] = useState('current');\n\n  // Book categories\n  const categories = [{\n    value: 'all',\n    label: 'All Categories'\n  }, {\n    value: 'fiction',\n    label: 'Fiction'\n  }, {\n    value: 'non-fiction',\n    label: 'Non-Fiction'\n  }, {\n    value: 'science',\n    label: 'Science'\n  }, {\n    value: 'technology',\n    label: 'Technology'\n  }, {\n    value: 'engineering',\n    label: 'Engineering'\n  }, {\n    value: 'mathematics',\n    label: 'Mathematics'\n  }, {\n    value: 'computer-science',\n    label: 'Computer Science'\n  }, {\n    value: 'history',\n    label: 'History'\n  }, {\n    value: 'philosophy',\n    label: 'Philosophy'\n  }, {\n    value: 'literature',\n    label: 'Literature'\n  }, {\n    value: 'reference',\n    label: 'Reference'\n  }, {\n    value: 'other',\n    label: 'Other'\n  }];\n\n  // Availability statuses for filtering\n  const availabilityStatuses = [{\n    value: 'all',\n    label: 'All Books'\n  }, {\n    value: 'available',\n    label: 'Available'\n  }, {\n    value: 'unavailable',\n    label: 'Unavailable'\n  }];\n  useEffect(() => {\n    // Session persistence - stay on this page on refresh\n    sessionStorage.setItem('lastVisitedPath', '/student/library');\n    const fetchUserAndBooks = async () => {\n      try {\n        setLoading(true);\n\n        // Get user from localStorage\n        const userData = localStorage.getItem('user');\n        if (userData) {\n          const parsedUser = JSON.parse(userData);\n          setUser(parsedUser);\n\n          // Fetch all books\n          const booksResponse = await simpleApi.get('/api/books');\n          if (booksResponse.data.success) {\n            setBooks(booksResponse.data.data || []);\n          }\n\n          // Fetch user's books if they have a studentId\n          if (parsedUser.studentId) {\n            const myBooksResponse = await simpleApi.get(`/api/books/student/${parsedUser.studentId}`);\n            if (myBooksResponse.data.success) {\n              const {\n                currentBooks,\n                transactions\n              } = myBooksResponse.data.data;\n              setCurrentBooks(currentBooks || []);\n              setHistoryBooks(transactions || []);\n            }\n          }\n        } else {\n          setError('User not found. Please log in again.');\n        }\n      } catch (err) {\n        console.error('Error fetching books:', err);\n        setError('Failed to load books. Please try again later.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserAndBooks();\n  }, []);\n\n  // Calculate days remaining or overdue\n  const calculateDaysStatus = dueDate => {\n    const today = new Date();\n    const due = new Date(dueDate);\n    const diffTime = due - today;\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    if (diffDays < 0) {\n      return {\n        days: Math.abs(diffDays),\n        isOverdue: true\n      };\n    } else {\n      return {\n        days: diffDays,\n        isOverdue: false\n      };\n    }\n  };\n\n  // Format date for display\n  const formatDate = dateString => {\n    const date = new Date(dateString);\n    return date.toLocaleDateString('en-IN', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric'\n    });\n  };\n  const handleViewBookDetails = book => {\n    setSelectedBook(book);\n    setShowBookDetails(true);\n  };\n  const handleCloseBookDetails = () => {\n    setShowBookDetails(false);\n    setSelectedBook(null);\n  };\n\n  // Filter books based on selected filters and search term\n  const filteredBooks = books.filter(book => {\n    let matchesAvailability = true;\n    if (filterAvailability === 'available') {\n      matchesAvailability = book.available;\n    } else if (filterAvailability === 'unavailable') {\n      matchesAvailability = !book.available;\n    }\n    const matchesSearch = searchTerm === '' || book.title.toLowerCase().includes(searchTerm.toLowerCase()) || book.author.toLowerCase().includes(searchTerm.toLowerCase()) || book.bookId && book.bookId.includes(searchTerm);\n    return matchesAvailability && matchesSearch;\n  });\n  if (loading && books.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n  if (error && books.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-red-50 border-l-4 border-red-500 p-4 rounded\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-red-700\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold text-gray-800\",\n        children: \"Library\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Browse and search for books in the library\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"-mb-px flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('catalog'),\n            className: `py-2 px-4 border-b-2 font-medium text-sm ${activeTab === 'catalog' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), \"Library Catalog\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('mybooks'),\n            className: `py-2 px-4 border-b-2 font-medium text-sm ${activeTab === 'mybooks' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-user-book mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 15\n            }, this), \"My Books\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), showBookDetails && selectedBook && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between pb-4 border-b\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-gray-900\",\n              children: \"Book Details\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCloseBookDetails,\n              className: \"text-gray-400 hover:text-gray-600\",\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times text-xl\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4 space-y-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Title\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-900\",\n                  children: selectedBook.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 211,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Author\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-900\",\n                  children: selectedBook.author\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 217,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Book ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-900\",\n                  children: selectedBook.bookId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-900 capitalize\",\n                  children: selectedBook.category ? selectedBook.category.replace('-', ' ') : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Price\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-900\",\n                  children: [\"\\u20B9\", selectedBook.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-medium text-gray-700\",\n                  children: \"Status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"mt-1 text-sm text-gray-900\",\n                  children: selectedBook.available ? /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-green-600\",\n                    children: \"Available\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-red-600\",\n                    children: \"Currently Unavailable\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), selectedBook.description && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700\",\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-1 text-sm text-gray-600\",\n                children: selectedBook.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex justify-end\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCloseBookDetails,\n              className: \"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500\",\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this), activeTab === 'catalog' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row md:items-center md:justify-between gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full md:w-1/2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"search\",\n              className: \"sr-only\",\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 274,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-search text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"search\",\n                type: \"text\",\n                placeholder: \"Search by title, author, or book ID\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value),\n                className: \"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-wrap gap-2\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: filterAvailability,\n              onChange: e => setFilterAvailability(e.target.value),\n              className: \"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\",\n              children: availabilityStatuses.map(status => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: status.value,\n                children: status.label\n              }, status.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: filteredBooks.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n          children: filteredBooks.map(book => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-b border-gray-200 bg-gray-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-gray-900 truncate\",\n                children: book.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: book.author\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"Book ID: \", book.bookId]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 319,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-500\",\n                  children: [\"\\u20B9\", book.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm capitalize\",\n                  children: book.category ? book.category.replace('-', ' ') : 'N/A'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 25\n                }, this), book.available ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800\",\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800\",\n                  children: \"Unavailable\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"px-4 py-3 bg-gray-50 border-t border-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleViewBookDetails(book),\n                className: \"w-full px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                children: \"View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 21\n            }, this)]\n          }, book._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-8\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No books found matching your criteria.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 9\n    }, this), activeTab === 'mybooks' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow rounded-lg overflow-hidden\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border-b border-gray-200\",\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          className: \"-mb-px flex px-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMyBooksTab('current'),\n            className: `py-3 px-4 border-b-2 font-medium text-sm ${myBooksTab === 'current' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book-open mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this), \"Currently Issued (\", currentBooks.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setMyBooksTab('history'),\n            className: `py-3 px-4 border-b-2 font-medium text-sm ${myBooksTab === 'history' ? 'border-primary-500 text-primary-600' : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-history mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 17\n            }, this), \"Transaction History (\", historyBooks.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [myBooksTab === 'current' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: currentBooks.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid gap-4\",\n            children: currentBooks.map(book => {\n              const daysStatus = calculateDaysStatus(book.dueDate);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border border-gray-200 rounded-lg p-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      className: \"text-lg font-semibold text-gray-900\",\n                      children: book.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 396,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-gray-600\",\n                      children: [\"by \", book.author]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 397,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-2 flex flex-wrap gap-4 text-sm text-gray-500\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Book ID: \", book.bookId]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 399,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Issued: \", formatDate(book.issueDate)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 400,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [\"Due: \", formatDate(book.dueDate)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 401,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 398,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 395,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ml-4\",\n                    children: daysStatus.isOverdue ? /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-3 py-1 text-sm rounded-full bg-red-100 text-red-800\",\n                      children: [\"Overdue by \", daysStatus.days, \" days\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: \"px-3 py-1 text-sm rounded-full bg-green-100 text-green-800\",\n                      children: [daysStatus.days, \" days remaining\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 410,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 404,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 394,\n                  columnNumber: 27\n                }, this)\n              }, book._id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 389,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-book text-4xl text-gray-300 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"You don't have any books currently issued.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 15\n        }, this), myBooksTab === 'history' && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: historyBooks.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"overflow-x-auto\",\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"min-w-full divide-y divide-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                className: \"bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Book Details\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 436,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Issue Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Due Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Return Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 445,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                    children: \"Status\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 448,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 434,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                className: \"bg-white divide-y divide-gray-200\",\n                children: historyBooks.map(transaction => {\n                  var _transaction$book, _transaction$book2, _transaction$book3;\n                  return /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm font-medium text-gray-900\",\n                          children: ((_transaction$book = transaction.book) === null || _transaction$book === void 0 ? void 0 : _transaction$book.title) || 'Unknown Book'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 458,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm text-gray-500\",\n                          children: [\"by \", ((_transaction$book2 = transaction.book) === null || _transaction$book2 === void 0 ? void 0 : _transaction$book2.author) || 'Unknown Author']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 461,\n                          columnNumber: 33\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs text-gray-400\",\n                          children: [\"ID: \", ((_transaction$book3 = transaction.book) === null || _transaction$book3 === void 0 ? void 0 : _transaction$book3.bookId) || 'N/A']\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 464,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                      children: formatDate(transaction.issueDate)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 469,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                      children: formatDate(transaction.expectedReturnDate)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 472,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                      children: transaction.actualReturnDate ? formatDate(transaction.actualReturnDate) : 'Not returned'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                      className: \"px-6 py-4 whitespace-nowrap\",\n                      children: /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `px-2 py-1 text-xs rounded-full ${transaction.status === 'returned' ? 'bg-green-100 text-green-800' : transaction.status === 'overdue' ? 'bg-red-100 text-red-800' : 'bg-yellow-100 text-yellow-800'}`,\n                        children: transaction.status\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 479,\n                        columnNumber: 31\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 478,\n                      columnNumber: 29\n                    }, this)]\n                  }, transaction._id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 455,\n                    columnNumber: 27\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 433,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 432,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center py-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-history text-4xl text-gray-300 mb-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-500\",\n              children: \"No transaction history available.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 153,\n    columnNumber: 5\n  }, this);\n};\n_s(StandaloneLibrary, \"hXoi0be0xN+sXqZ33t5tLvo8ncw=\");\n_c = StandaloneLibrary;\nexport default StandaloneLibrary;\nvar _c;\n$RefreshReg$(_c, \"StandaloneLibrary\");","map":{"version":3,"names":["React","useState","useEffect","simpleApi","jsxDEV","_jsxDEV","StandaloneLibrary","_s","user","setUser","activeTab","setActiveTab","books","setBooks","currentBooks","setCurrentBooks","historyBooks","setHistoryBooks","loading","setLoading","error","setError","searchTerm","setSearchTerm","filterAvailability","setFilterAvailability","selectedBook","setSelectedBook","showBookDetails","setShowBookDetails","myBooksTab","setMyBooksTab","categories","value","label","availabilityStatuses","sessionStorage","setItem","fetchUserAndBooks","userData","localStorage","getItem","parsedUser","JSON","parse","booksResponse","get","data","success","studentId","myBooksResponse","transactions","err","console","calculateDaysStatus","dueDate","today","Date","due","diffTime","diffDays","Math","ceil","days","abs","isOverdue","formatDate","dateString","date","toLocaleDateString","day","month","year","handleViewBookDetails","book","handleCloseBookDetails","filteredBooks","filter","matchesAvailability","available","matchesSearch","title","toLowerCase","includes","author","bookId","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","category","replace","price","description","htmlFor","id","type","placeholder","onChange","e","target","map","status","_id","daysStatus","issueDate","transaction","_transaction$book","_transaction$book2","_transaction$book3","expectedReturnDate","actualReturnDate","_c","$RefreshReg$"],"sources":["C:/Users/raajj/Desktop/backend/frontend/src/pages/student/StandaloneLibrary.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport simpleApi from '../../utils/simpleApi';\r\n\r\nconst StandaloneLibrary = () => {\r\n  const [user, setUser] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('catalog');\r\n  const [books, setBooks] = useState([]);\r\n  const [currentBooks, setCurrentBooks] = useState([]);\r\n  const [historyBooks, setHistoryBooks] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [filterAvailability, setFilterAvailability] = useState('all');\r\n  const [selectedBook, setSelectedBook] = useState(null);\r\n  const [showBookDetails, setShowBookDetails] = useState(false);\r\n  const [myBooksTab, setMyBooksTab] = useState('current');\r\n\r\n  // Book categories\r\n  const categories = [\r\n    { value: 'all', label: 'All Categories' },\r\n    { value: 'fiction', label: 'Fiction' },\r\n    { value: 'non-fiction', label: 'Non-Fiction' },\r\n    { value: 'science', label: 'Science' },\r\n    { value: 'technology', label: 'Technology' },\r\n    { value: 'engineering', label: 'Engineering' },\r\n    { value: 'mathematics', label: 'Mathematics' },\r\n    { value: 'computer-science', label: 'Computer Science' },\r\n    { value: 'history', label: 'History' },\r\n    { value: 'philosophy', label: 'Philosophy' },\r\n    { value: 'literature', label: 'Literature' },\r\n    { value: 'reference', label: 'Reference' },\r\n    { value: 'other', label: 'Other' }\r\n  ];\r\n\r\n  // Availability statuses for filtering\r\n  const availabilityStatuses = [\r\n    { value: 'all', label: 'All Books' },\r\n    { value: 'available', label: 'Available' },\r\n    { value: 'unavailable', label: 'Unavailable' }\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // Session persistence - stay on this page on refresh\r\n    sessionStorage.setItem('lastVisitedPath', '/student/library');\r\n    \r\n    const fetchUserAndBooks = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // Get user from localStorage\r\n        const userData = localStorage.getItem('user');\r\n        if (userData) {\r\n          const parsedUser = JSON.parse(userData);\r\n          setUser(parsedUser);\r\n          \r\n          // Fetch all books\r\n          const booksResponse = await simpleApi.get('/api/books');\r\n          if (booksResponse.data.success) {\r\n            setBooks(booksResponse.data.data || []);\r\n          }\r\n          \r\n          // Fetch user's books if they have a studentId\r\n          if (parsedUser.studentId) {\r\n            const myBooksResponse = await simpleApi.get(`/api/books/student/${parsedUser.studentId}`);\r\n            if (myBooksResponse.data.success) {\r\n              const { currentBooks, transactions } = myBooksResponse.data.data;\r\n              setCurrentBooks(currentBooks || []);\r\n              setHistoryBooks(transactions || []);\r\n            }\r\n          }\r\n        } else {\r\n          setError('User not found. Please log in again.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching books:', err);\r\n        setError('Failed to load books. Please try again later.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchUserAndBooks();\r\n  }, []);\r\n\r\n  // Calculate days remaining or overdue\r\n  const calculateDaysStatus = (dueDate) => {\r\n    const today = new Date();\r\n    const due = new Date(dueDate);\r\n    const diffTime = due - today;\r\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\r\n    \r\n    if (diffDays < 0) {\r\n      return { days: Math.abs(diffDays), isOverdue: true };\r\n    } else {\r\n      return { days: diffDays, isOverdue: false };\r\n    }\r\n  };\r\n\r\n  // Format date for display\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    return date.toLocaleDateString('en-IN', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric'\r\n    });\r\n  };\r\n\r\n  const handleViewBookDetails = (book) => {\r\n    setSelectedBook(book);\r\n    setShowBookDetails(true);\r\n  };\r\n\r\n  const handleCloseBookDetails = () => {\r\n    setShowBookDetails(false);\r\n    setSelectedBook(null);\r\n  };\r\n\r\n  // Filter books based on selected filters and search term\r\n  const filteredBooks = books.filter(book => {\r\n    let matchesAvailability = true;\r\n    if (filterAvailability === 'available') {\r\n      matchesAvailability = book.available;\r\n    } else if (filterAvailability === 'unavailable') {\r\n      matchesAvailability = !book.available;\r\n    }\r\n    \r\n    const matchesSearch = searchTerm === '' || \r\n      book.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      book.author.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (book.bookId && book.bookId.includes(searchTerm));\r\n    \r\n    return matchesAvailability && matchesSearch;\r\n  });\r\n\r\n  if (loading && books.length === 0) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-64\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error && books.length === 0) {\r\n    return (\r\n      <div className=\"bg-red-50 border-l-4 border-red-500 p-4 rounded\">\r\n        <p className=\"text-red-700\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"bg-white shadow rounded-lg p-6\">\r\n        <h2 className=\"text-2xl font-semibold text-gray-800\">Library</h2>\r\n        <p className=\"text-gray-600\">Browse and search for books in the library</p>\r\n      </div>\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"bg-white shadow rounded-lg\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"-mb-px flex\">\r\n            <button\r\n              onClick={() => setActiveTab('catalog')}\r\n              className={`py-2 px-4 border-b-2 font-medium text-sm ${\r\n                activeTab === 'catalog'\r\n                  ? 'border-primary-500 text-primary-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <i className=\"fas fa-book mr-2\"></i>\r\n              Library Catalog\r\n            </button>\r\n            <button\r\n              onClick={() => setActiveTab('mybooks')}\r\n              className={`py-2 px-4 border-b-2 font-medium text-sm ${\r\n                activeTab === 'mybooks'\r\n                  ? 'border-primary-500 text-primary-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n              }`}\r\n            >\r\n              <i className=\"fas fa-user-book mr-2\"></i>\r\n              My Books\r\n            </button>\r\n          </nav>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Book Details Modal */}\r\n      {showBookDetails && selectedBook && (\r\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\r\n          <div className=\"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white\">\r\n            <div className=\"mt-3\">\r\n              {/* Modal Header */}\r\n              <div className=\"flex items-center justify-between pb-4 border-b\">\r\n                <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                  Book Details\r\n                </h3>\r\n                <button\r\n                  onClick={handleCloseBookDetails}\r\n                  className=\"text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  <i className=\"fas fa-times text-xl\"></i>\r\n                </button>\r\n              </div>\r\n\r\n              {/* Modal Content */}\r\n              <div className=\"mt-4 space-y-4\">\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Title</label>\r\n                    <p className=\"mt-1 text-sm text-gray-900\">{selectedBook.title}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Author</label>\r\n                    <p className=\"mt-1 text-sm text-gray-900\">{selectedBook.author}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Book ID</label>\r\n                    <p className=\"mt-1 text-sm text-gray-900\">{selectedBook.bookId}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Category</label>\r\n                    <p className=\"mt-1 text-sm text-gray-900 capitalize\">\r\n                      {selectedBook.category ? selectedBook.category.replace('-', ' ') : 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Price</label>\r\n                    <p className=\"mt-1 text-sm text-gray-900\">{selectedBook.price}</p>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Status</label>\r\n                    <p className=\"mt-1 text-sm text-gray-900\">\r\n                      {selectedBook.available ? (\r\n                        <span className=\"text-green-600\">Available</span>\r\n                      ) : (\r\n                        <span className=\"text-red-600\">Currently Unavailable</span>\r\n                      )}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                {selectedBook.description && (\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700\">Description</label>\r\n                    <p className=\"mt-1 text-sm text-gray-600\">{selectedBook.description}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Modal Footer */}\r\n              <div className=\"mt-6 flex justify-end\">\r\n                <button\r\n                  onClick={handleCloseBookDetails}\r\n                  className=\"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500\"\r\n                >\r\n                  Close\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Content based on active tab */}\r\n      {activeTab === 'catalog' && (\r\n        <div className=\"bg-white shadow rounded-lg overflow-hidden\">\r\n          {/* Search and Filters */}\r\n          <div className=\"p-6 border-b border-gray-200\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\r\n              <div className=\"w-full md:w-1/2\">\r\n                <label htmlFor=\"search\" className=\"sr-only\">Search</label>\r\n                <div className=\"relative\">\r\n                  <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                    <i className=\"fas fa-search text-gray-400\"></i>\r\n                  </div>\r\n                  <input\r\n                    id=\"search\"\r\n                    type=\"text\"\r\n                    placeholder=\"Search by title, author, or book ID\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {/* Removed category filter dropdown */}\r\n                <select\r\n                  value={filterAvailability}\r\n                  onChange={(e) => setFilterAvailability(e.target.value)}\r\n                  className=\"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n                >\r\n                  {availabilityStatuses.map(status => (\r\n                    <option key={status.value} value={status.value}>{status.label}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Books Grid */}\r\n          <div className=\"p-6\">\r\n            {filteredBooks.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                {filteredBooks.map((book) => (\r\n                  <div \r\n                    key={book._id} \r\n                    className=\"border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow duration-200\"\r\n                  >\r\n                    <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\r\n                      <h3 className=\"text-lg font-medium text-gray-900 truncate\">{book.title}</h3>\r\n                      <p className=\"text-sm text-gray-500\">{book.author}</p>\r\n                    </div>\r\n                    <div className=\"p-4\">\r\n                      <div className=\"flex justify-between items-center mb-3\">\r\n                        <span className=\"text-sm text-gray-500\">Book ID: {book.bookId}</span>\r\n                        <span className=\"text-sm text-gray-500\">{book.price}</span>\r\n                      </div>\r\n                      <div className=\"flex justify-between items-center\">\r\n                        <span className=\"text-sm capitalize\">\r\n                          {book.category ? book.category.replace('-', ' ') : 'N/A'}\r\n                        </span>\r\n                        {book.available ? (\r\n                          <span className=\"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800\">Available</span>\r\n                        ) : (\r\n                          <span className=\"px-2 py-1 text-xs rounded-full bg-red-100 text-red-800\">Unavailable</span>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"px-4 py-3 bg-gray-50 border-t border-gray-200\">\r\n                      <button\r\n                        onClick={() => handleViewBookDetails(book)}\r\n                        className=\"w-full px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n                      >\r\n                        View Details\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"text-center py-8\">\r\n                <p className=\"text-gray-500\">No books found matching your criteria.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* My Books Section */}\r\n      {activeTab === 'mybooks' && (\r\n        <div className=\"bg-white shadow rounded-lg overflow-hidden\">\r\n          {/* My Books Tab Navigation */}\r\n          <div className=\"border-b border-gray-200\">\r\n            <nav className=\"-mb-px flex px-6\">\r\n              <button\r\n                onClick={() => setMyBooksTab('current')}\r\n                className={`py-3 px-4 border-b-2 font-medium text-sm ${\r\n                  myBooksTab === 'current'\r\n                    ? 'border-primary-500 text-primary-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <i className=\"fas fa-book-open mr-2\"></i>\r\n                Currently Issued ({currentBooks.length})\r\n              </button>\r\n              <button\r\n                onClick={() => setMyBooksTab('history')}\r\n                className={`py-3 px-4 border-b-2 font-medium text-sm ${\r\n                  myBooksTab === 'history'\r\n                    ? 'border-primary-500 text-primary-600'\r\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n                }`}\r\n              >\r\n                <i className=\"fas fa-history mr-2\"></i>\r\n                Transaction History ({historyBooks.length})\r\n              </button>\r\n            </nav>\r\n          </div>\r\n\r\n          {/* My Books Content */}\r\n          <div className=\"p-6\">\r\n            {myBooksTab === 'current' && (\r\n              <div>\r\n                {currentBooks.length > 0 ? (\r\n                  <div className=\"grid gap-4\">\r\n                    {currentBooks.map((book) => {\r\n                      const daysStatus = calculateDaysStatus(book.dueDate);\r\n                      return (\r\n                        <div key={book._id} className=\"border border-gray-200 rounded-lg p-4\">\r\n                          <div className=\"flex justify-between items-start\">\r\n                            <div className=\"flex-1\">\r\n                              <h3 className=\"text-lg font-semibold text-gray-900\">{book.title}</h3>\r\n                              <p className=\"text-gray-600\">by {book.author}</p>\r\n                              <div className=\"mt-2 flex flex-wrap gap-4 text-sm text-gray-500\">\r\n                                <span>Book ID: {book.bookId}</span>\r\n                                <span>Issued: {formatDate(book.issueDate)}</span>\r\n                                <span>Due: {formatDate(book.dueDate)}</span>\r\n                              </div>\r\n                            </div>\r\n                            <div className=\"ml-4\">\r\n                              {daysStatus.isOverdue ? (\r\n                                <span className=\"px-3 py-1 text-sm rounded-full bg-red-100 text-red-800\">\r\n                                  Overdue by {daysStatus.days} days\r\n                                </span>\r\n                              ) : (\r\n                                <span className=\"px-3 py-1 text-sm rounded-full bg-green-100 text-green-800\">\r\n                                  {daysStatus.days} days remaining\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8\">\r\n                    <i className=\"fas fa-book text-4xl text-gray-300 mb-4\"></i>\r\n                    <p className=\"text-gray-500\">You don't have any books currently issued.</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {myBooksTab === 'history' && (\r\n              <div>\r\n                {historyBooks.length > 0 ? (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-gray-200\">\r\n                      <thead className=\"bg-gray-50\">\r\n                        <tr>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Book Details\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Issue Date\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Due Date\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Return Date\r\n                          </th>\r\n                          <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                            Status\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                        {historyBooks.map((transaction) => (\r\n                          <tr key={transaction._id}>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                              <div>\r\n                                <div className=\"text-sm font-medium text-gray-900\">\r\n                                  {transaction.book?.title || 'Unknown Book'}\r\n                                </div>\r\n                                <div className=\"text-sm text-gray-500\">\r\n                                  by {transaction.book?.author || 'Unknown Author'}\r\n                                </div>\r\n                                <div className=\"text-xs text-gray-400\">\r\n                                  ID: {transaction.book?.bookId || 'N/A'}\r\n                                </div>\r\n                              </div>\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {formatDate(transaction.issueDate)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {formatDate(transaction.expectedReturnDate)}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                              {transaction.actualReturnDate ? formatDate(transaction.actualReturnDate) : 'Not returned'}\r\n                            </td>\r\n                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                              <span className={`px-2 py-1 text-xs rounded-full ${\r\n                                transaction.status === 'returned'\r\n                                  ? 'bg-green-100 text-green-800'\r\n                                  : transaction.status === 'overdue'\r\n                                  ? 'bg-red-100 text-red-800'\r\n                                  : 'bg-yellow-100 text-yellow-800'\r\n                              }`}>\r\n                                {transaction.status}\r\n                              </span>\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-center py-8\">\r\n                    <i className=\"fas fa-history text-4xl text-gray-300 mb-4\"></i>\r\n                    <p className=\"text-gray-500\">No transaction history available.</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StandaloneLibrary; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}